# 6 個關鍵角色的 IADL/NDH 使用場景

**版本**: 1.0.0  
**作者**: Manus AI  
**日期**: 2025-10-10

---

## 1. Asset Creator (資產創建者)

### 場景: 建立一個 CNC 機器的 IADL 定義

**目標**: 在 3D 設計軟體中完成 CNC 機器的設計後,為其建立一個標準化的 IADL 描述,以便下游角色使用。

**工作流程**:
1.  **設計 3D 模型**: 在 SolidWorks 中完成 CNC 機器的 3D 模型設計。
2.  **設定監測點**: 在模型上標記溫度、振動、轉速等感測器的位置。
3.  **使用 IADL 插件**: 在 SolidWorks 中打開 IADL 插件。
4.  **生成 IADL 模板**: 插件根據模型自動生成 IADL YAML 模板。
5.  **編輯 IADL 文件**:
    *   填寫資產的元資料 (製造商、型號、序號)。
    *   定義屬性 (temperature, speed, vibration) 的單位、資料類型、範圍。
    *   定義事件 (overheat, collision, job_completed)。
    *   定義狀態 (IDLE, RUNNING, ERROR)。
6.  **匯出 IADL 和 USD**: 將 IADL YAML 文件和 USD 模型一起匯出。
7.  **發布到 NDH**: 將 IADL 定義發布到 NDH 的資產類型庫中。

**效益**:
- ✅ **標準化**: 從設計源頭就實現了資料的標準化。
- ✅ **一致性**: 確保從設計到運營的資料模型一致。
- ✅ **可重用**: IADL 定義可以在多個專案中重用。
- ✅ **自動化**: 插件自動生成模板,減少手動工作。

---

## 2. Factory Designer (工廠設計者)

### 場景: 在 Omniverse 中設計一個新的生產線

**目標**: 使用 Omniverse 設計一個包含 5 台 CNC 機器的生產線,並配置它們的 IADL 屬性。

**工作流程**:
1.  **打開 Omniverse**: 啟動 Omniverse View 或 Code。
2.  **連接 NDH**: Omniverse 中的 NDH 插件自動連接到 NDH 服務。
3.  **瀏覽資產庫**: 在 NDH 插件的資產庫中,找到 `CNC_Machine` 資產類型。
4.  **拖放資產**: 將 5 個 `CNC_Machine` 拖放到場景中,並命名為 `CNC_01` 到 `CNC_05`。
5.  **配置資產**: 
    *   NDH 插件會自動為每個資產創建 IADL 實例。
    *   設計者可以配置每個資產的特定參數 (如 IP 地址、安裝日期)。
6.  **定義關係**: 在場景中定義資產之間的關係 (如 `CNC_01` 的輸出是 `CNC_02` 的輸入)。
7.  **保存場景**: 保存 USD 場景,所有 IADL 實例都會被寫入 USD 的 `customData` 中。

**效益**:
- ✅ **快速設計**: 從標準化的資產庫中拖放資產,快速搭建場景。
- ✅ **資料驅動**: 設計過程與資料模型緊密結合。
- ✅ **一致性**: 所有資產都使用標準的 IADL 定義。
- ✅ **協作**: 多個設計者可以同時在 Omniverse 中協作。

---

## 3. Factory Maker (工廠建造組裝者)

### 場景: 在現場安裝 CNC 機器並驗證

**目標**: 根據設計圖在現場安裝 CNC 機器,並使用 AR 設備驗證安裝的正確性。

**工作流程**:
1.  **下載設計圖**: 在平板電腦或 AR 眼鏡上,從 NDH 下載工廠的 USD 設計圖。
2.  **AR 疊加**: AR 應用將 3D 設計圖疊加在現實世界中,指導安裝位置。
3.  **掃描資產**: 安裝完成後,使用 AR 設備掃描機器的 QR Code 或 NFC 標籤。
4.  **綁定資產**: AR 應用將掃描到的實體資產與數位分身中的 IADL 實例進行綁定。
5.  **驗證感測器**: 
    *   AR 應用顯示感測器的預期位置。
    *   建造者驗證感測器是否安裝在正確的位置。
    *   連接感測器到 OT 網路。
6.  **更新狀態**: 在 AR 應用中將資產的狀態更新為 `INSTALLED`。
7.  **同步到 NDH**: 所有更新都會通過 NDH 同步到數位分身中。

**效益**:
- ✅ **準確安裝**: AR 指導提高了安裝的準確性。
- ✅ **自動綁定**: 掃描 QR Code 自動綁定實體和數位資產。
- ✅ **即時驗證**: 在現場即時驗證安裝的正確性。
- ✅ **無紙化**: 所有操作都在數位設備上完成。

---

## 4. Factory Operator (工廠營運者)

### 場景: 監控生產線並處理告警

**目標**: 在控制室或使用行動應用即時監控生產線的運行狀態,並在收到告警時快速響應。

**工作流程**:
1.  **打開監控儀表板**: 在 SCADA 系統或 Web 儀表板上,顯示來自 NDH 的即時資料。
2.  **即時監控**: 儀表板顯示每台 CNC 機器的溫度、轉速、狀態等 IADL 屬性。
3.  **接收告警**: 當 `CNC_03` 的溫度超過閾值時,NDH 的告警引擎觸發一個 `overheat` 事件。
4.  **告警通知**: 營運者在儀表板和手機上收到告警通知。
5.  **查看數位分身**: 點擊告警,自動跳轉到 Omniverse 中的 `CNC_03` 數位分身。
6.  **分析問題**: 
    *   數位分身顯示 `CNC_03` 變為紅色,並顯示歷史溫度曲線。
    *   營運者可以從不同角度查看機器,並與遠程專家協作。
7.  **遠程操作**: 在儀表板上發送一個 `stop` 命令到 `CNC_03`。
8.  **命令傳遞**: 命令通過 NDH -> OPC UA Connector -> PLC -> CNC 機器執行。

**效益**:
- ✅ **統一視圖**: 在一個儀表板上監控所有資產。
- ✅ **即時響應**: 毫秒級的告警通知。
- ✅ **情境感知**: 結合 3D 數位分身快速理解問題。
- ✅ **遠程協作**: 與遠程專家共享視圖,快速解決問題。

---

## 5. Factory Monitor (工廠稽核者)

### 場景: 分析上個月的 OEE (整體設備效率)

**目標**: 使用 BI 工具分析上個月所有 CNC 機器的 OEE,並找出效能瓶頸。

**工作流程**:
1.  **連接 NDH**: 在 Power BI 或 Grafana 中,使用 NDH 的歷史資料 API 作為資料來源。
2.  **獲取資料**: 
    *   從 NDH 獲取上個月所有 CNC 機器的狀態歷史 (IDLE, RUNNING, ERROR)。
    *   獲取生產工單的開始和結束時間。
    *   獲取產品的合格數量和不合格數量。
3.  **計算 OEE**: 在 BI 工具中,根據 IADL 資料計算 OEE 的三個指標:
    *   **可用率 (Availability)**: `RUNNING` 時間 / 總時間
    *   **表現 (Performance)**: 實際產量 / 理論產量
    *   **品質 (Quality)**: 合格品數量 / 總產量
4.  **視覺化分析**: 
    *   創建 OEE 趨勢圖、柏拉圖、散點圖。
    *   下鑽分析,找出導致 OEE 低的根本原因 (如 `CNC_02` 的故障頻率最高)。
5.  **生成報告**: 生成 PDF 報告,並發送給管理層。

**效益**:
- ✅ **資料可信**: 所有資料都來自標準化的 IADL,準確可靠。
- ✅ **分析效率**: 無需手動收集和清洗資料。
- ✅ **深度洞察**: 多維度分析,快速找到問題根源。
- ✅ **自動報告**: 自動生成報告,節省時間。

---

## 6. Enterprise Monitor (企業檢測者)

### 場景: 比較全球三個工廠的產能和成本

**目標**: 在 ERP 系統中,比較位於亞洲、歐洲、美洲的三個工廠的產能、成本和效率。

**工作流程**:
1.  **跨工廠資料聚合**: NDH 的企業版部署在雲端,聚合來自三個工廠的 NDH 實例的資料。
2.  **與 ERP 整合**: NDH 的 SAP Connector 將 IADL 資料推送到 SAP S/4HANA Cloud。
3.  **資料映射**: 
    *   將 IADL 的 `asset_id` 映射到 SAP 的 `Equipment`。
    *   將 IADL 的 `production_count` 映射到 SAP 的 `Production Order Confirmation`。
    *   將 IADL 的 `energy_consumption` 映射到 SAP 的 `Cost Center Accounting`。
4.  **企業級分析**: 在 SAP Analytics Cloud 中,創建企業級的儀表板。
5.  **比較分析**: 
    *   比較三個工廠的單位生產成本。
    *   分析不同工廠的設備利用率。
    *   預測全球市場需求,並優化生產計畫。
6.  **戰略決策**: 根據分析結果,決定是否在亞洲工廠增加一條新的生產線。

**效益**:
- ✅ **全球視圖**: 在一個平台上查看全球所有工廠的運營情況。
- ✅ **IT/OT 融合**: 打通生產資料和業務資料。
- ✅ **資料驅動決策**: 基於準確的資料進行戰略決策。
- ✅ **供應鏈優化**: 優化全球的生產和物流。

